Q.tool={shuffle:function(d){var c=d.length,b,a;while(0!==c){a=Math.floor(Math.random()*c);c-=1;b=d[c];d[c]=d[a];d[a]=b}return d},inArray:function(c,b,d){var a=-1;$(b).each(function(f,e){if(JSON.stringify(e.value)==JSON.stringify(c.value)){console.log(f);a=f}});return a},pres:function(e){var f=0;var d=""+e[0],c=""+e[1];if(d.split(".").length===2||c.split(".").length===2){if(d.split(".")[1]){f=d.split(".")[1].length}else{f=c.split(".")[1].length}if(c.split(".")[1]&&c.split(".")[1].length>d.split(".")[1].length){f=c.split(".")[1].length}}return f},pgcd:function(e){console.log(e);var f=Q.tool.pres(e);f=Math.pow(10,f);var d=""+e[0],c=""+e[1];d=parseInt(parseFloat(d)*f);c=parseInt(parseFloat(c)*f);console.log(d);console.log(f);while(d!=c&&d*c!=0){if(d>c){d-=c}else{c-=d}}console.log(d);console.log(f);return d/f},random_int:function(b,a){return Math.floor((Math.random()*(a-b+1))+b)},get_false_value:function(b){console.log(["get_false_value()",b]);var a={type:b.type,unit:b.unit,pres:b.pres,is_valid:false,};switch(a.type){case 1:do{a.value=[(b.value[0]+Q.tool.random_int(-5,5)*b.pgcd)];a.value[1]=a.value[0]+(b.value[1]-b.value[0]+Q.tool.random_int(-2,2)*b.pgcd)}while(a.value[0]<0||a.value[1]<0||a.value[1]-0.01<=a.value[0]||a.value[0]==b.value[0]||(a.unit=="%"&&a.value[1]>100));break;case 2:do{a.value=[Q.data.signs[Q.tool.random_int(0,Q.data.signs.length-1)],(b.value[1]+Q.tool.random_int(-5,5)*b.pgcd)]}while(a.value[1]<0||(a.unit=="%"&&a.value[1]>100));break}console.log(a);return a},get_unit:function(c,a){switch(a){case 1:var d=3;break;case 2:var d=2;break}var b=c[d];for(i=d+1;i<c.length;i++){b+=" "+c[4]}return b},get_valid_value:function(a){console.log(["get_valid_value()",a]);var d=Math.floor((Math.random()*a.value.length));var c=a.value[d].split(" ");var b={type:a.type,unit:Q.tool.get_unit(c,a.type),is_valid:true};switch(b.type){case 1:b.value=[parseFloat(c[0]),parseFloat(c[2])];b.pres=Q.tool.pres(b.value);b.pgcd=Q.tool.pgcd(b.value);break;case 2:b.value=[c[0],parseFloat(c[1])];b.pres=Q.tool.pres([b.value[1],300]);b.pgcd=Q.tool.pgcd([b.value[1],300]);break}console.log(b);return b},get_question:function(){console.log(["get_question()"]);if(window.location.search==""){var a=Math.floor((Math.random()*Q.data.values.length))}else{var c=unescape(window.location.search.substring(4));console.log(c);var a;$(Q.data.values).each(function(e,d){if(d.name==c){a=e}})}var b=Q.data.values[a];b.id=a;console.log(b);return b}};