var Q={init:function(){if(typeof navigator!=="undefined"&&typeof navigator.splashscreen!=="undefined"){navigator.splashscreen.hide()}var a=Q.tool.get_question();switch(Q.tool.random_int(0,1)){case 0:Q.type.choice[a.type](a);break;case 1:Q.type.answer[a.type](a);break}},valider:{answer:function(a){switch(a.type){case 1:var c=parseFloat($(".answer input").eq(0).val().replace(",","."))+" - "+parseFloat($(".answer input").eq(1).val().replace(",","."))+" "+$(".answer select").eq(0).val();break;case 2:var c=$(".answer select").eq(0).val()+" "+parseFloat($(".answer input").eq(0).val().replace(",","."))+" "+$(".answer select").eq(1).val();c=c.replace(String.fromCharCode(160)," ");break}c=$.trim(c.replace("&nbsp;"," "));console.log(c);$(a.value).each(function(e,d){a.value[e]=$.trim(d.replace("&nbsp;"," "))});console.log(a.value);console.log($.inArray(c,a.value));if(c==="NaN - NaN Unit"||c==="NaN - NaN null"||c==="Sign NaN Unit"||c==="null NaN null"){$(".answer").eq(0).addClass("has-empty").css("opacity","0.5");$("html>body").css("background","rgba(64,164,151,0.75)")}else{if($.inArray(c,a.value)!==-1){$(".answer").eq(0).addClass("has-success").css("background","rgba(160,220,160,0.8)");$("html>body").css("background","rgba(160,220,160,1)")}else{$(".answer").eq(0).addClass("has-error").css("background","rgba(237,156,40,0.8)");$("html>body").css("background","rgba(237,156,40,0.75)")}}$(".answer").toggleClass("results");$("#reload").show();$("#valider").remove();var b=window.localStorage.getItem(a.name);console.log(b);if(b&&b.lenght>=4){b[0]+=$(".answer.has-success").length;b[1]+=$(".answer.has-error").length;b[2]+=$(".answer.has-empty").length}else{b=[$(".answer.has-success").length,$(".answer.has-error").length,$(".answer.has-empty").length]}b[3]=(new Date()).getTime();console.log(b);window.localStorage.setItem(a.name,JSON.stringify(b))},choice:function(a){$(".choices a").attr("onclick","");$(".choices").toggleClass("results");$("#reload").show();$("#valider").remove();var b=window.localStorage.getItem(a.name);console.log(b);if(b&&b.lenght>=4){b[0]+=($("a[data-good='true'].btn-success").length>=1)?1:0;b[1]+=($("a[data-good='false'].btn-success").length>=1)?1:0;b[2]+=($("a.btn-success").length==0)?1:0}else{b=[($("a[data-good='true'].btn-success").length>=1)?1:0,($("a[data-good='false'].btn-success").length>=1)?1:0,($("a.btn-success").length==0)?1:0]}if($("a[data-good='true'].btn-success").length>=1){$("html>body").css("background","rgba(160,220,160,1)")}else{if($("a[data-good='false'].btn-success").length>=1){$("html>body").css("background","rgba(237,156,40,0.75)")}else{$("html>body").css("background","rgba(64,164,151,0.75)")}}b[3]=(new Date()).getTime();console.log(b);window.localStorage.setItem(a.name,JSON.stringify(b))}},type:{answer:{1:function(a){$("body>.container").html(Q.tmpl.answer.body[1](a));$("#valider").on("click",function(){Q.valider.answer(a)})},2:function(a){$("body>.container").html(Q.tmpl.answer.body[2](a));$("#valider").on("click",function(){Q.valider.answer(a)})}},choice:{1:function(a){$("body>.container").html(Q.tmpl.choice.body(a));var c=[];c.push(Q.tool.get_valid_value(a));for(t=0;t<3;t++){do{var b=Q.tool.get_false_value(c[0])}while(Q.tool.inArray(b,c,1)!=-1);c.push(b)}Q.tool.shuffle(c);$(c).each(function(e,d){$(".choices").append(Q.tmpl.choice.type[1](e,d))});$("#valider").on("click",function(){Q.valider.choice(a)})},2:function(a){$("body>.container").html(Q.tmpl.choice.body(a));var c=[];c.push(Q.tool.get_valid_value(a));for(t=0;t<3;t++){do{var b=Q.tool.get_false_value(c[0])}while(Q.tool.inArray(b,c,1)!=-1);c.push(b)}console.log(c);Q.tool.shuffle(c);$(c).each(function(e,d){console.log(d);$(".choices").append(Q.tmpl.choice.type[2](e,d))});$("#valider").on("click",function(){Q.valider.choice(a)})}}}};$(document).ready(Q.init);